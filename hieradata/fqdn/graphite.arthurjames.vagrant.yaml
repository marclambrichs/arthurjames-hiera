---
arthurjames::notify::message: This is graphite.puppet.arthurjames

classes:
  - arthurjames::role_node
  - arthurjames::role_graphite

carbon_relay::config_rewrites:
  comments: |
    ## rewrite carbon c relay internal statistics
    ## from carbon.relays.twiki501.back.test.bc.local.metricsQueued
    ## into bc.test.twiki.twiki501.relay.metricsQueued
  rewrite1:
    from: '^carbon\.relays\.([a-zA-Z]+)([0-9]+)_([a-zA-Z0-9]+)_([a-zA-Z0-9]+)_([a-zA-Z0-9]+)_([a-zA-Z0-9]+)\.(.*)'
    into: '\5.\4.\1.\1\2.relay.\7'
  rewrite2:
    comments: |
      ## rewrite carbon c relay internal statistics
      ## from carbon.relays.twiki501.back.test.bc.local.metricsQueued
      ## into bc.test.twiki.twiki501.relay.metricsQueued
    from: '^carbon\.relays\.([a-zA-Z]+)([0-9]+)_([a-zA-Z0-9]+)_([a-zA-Z0-9]+)_([a-zA-Z0-9]+)_([a-zA-Z0-9]+)\.(.*)'
    into: '\5.\4.\1.\1\2.relay.\7'


